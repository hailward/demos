var _proj=_proj||{};function _UtilProj(){var r=this;this._projNameMap={GAODE:"GCJ02:3857","GAODE:3857":"GCJ02:3857",GOOGLE:"GCJ02:3857","GOOGLE:3857":"GCJ02:3857",TENCENT:"GCJ02:3857","TENCENT:3857":"GCJ02:3857",ARCGIS:"GCJ02:3857","ARCGIS:3857":"GCJ02:3857",BING:"GCJ02:3857","BING:3857":"GCJ02:3857",PGIS:"EPSG:4326","PGIS:4326":"EPSG:4326","WGS:84":"EPSG:4326",TIANDITU:"EPSG:4326","TIANDITU:4326":"EPSG:4326",OSM:"EPSG:3857","OSM:3857":"EPSG:3857"},this._resolutions3857=[156543.03392804097,78271.51696402048,39135.75848201024,19567.87924100512,9783.93962050256,4891.96981025128,2445.98490512564,1222.99245256282,611.49622628141,305.748113140705,152.8740565703525,76.43702828517625,38.21851414258813,19.109257071294063,9.554628535647032,4.777314267823516,2.388657133911758,1.194328566955879,.5971642834779395,.29858214173896974,.14929107086948487],this._resolutions4326=[1.40625,.703125,.3515625,.17578125,.087890625,.0439453125,.02197265625,.010986328125,.0054931640625,.00274658203125,.001373291015625,.0006866455078125,.00034332275390625,.000171661376953125,858306884765625e-19,4291534423828125e-20,21457672119140625e-21,10728836059570312e-21,5364418029785156e-21,2682209014892578e-21,1341104507446289e-21];var o=[12890594.86,8362377.87,5591021,3481989.83,1678043.12,0],t=[[1.410526172116255e-8,898305509648872e-20,-1.9939833816331,200.9824383106796,-187.2403703815547,91.6087516669843,-23.38765649603339,2.57121317296198,-.03801003308653,17337981.2],[-7.435856389565537e-9,8983055097726239e-21,-.78625201886289,96.32687599759846,-1.85204757529826,-59.36935905485877,47.40033549296737,-16.50741931063887,2.28786674699375,10260144.86],[-3.030883460898826e-8,898305509983578e-20,.30071316287616,59.74293618442277,7.357984074871,-25.38371002664745,13.45380521110908,-3.29883767235584,.32710905363475,6856817.37],[-1.981981304930552e-8,8983055099779535e-21,.03278182852591,40.31678527705744,.65659298677277,-4.44255534477492,.85341911805263,.12923347998204,-.04625736007561,4482777.06],[3.09191371068437e-9,8983055096812155e-21,6995724062e-14,23.10934304144901,-.00023663490511,-.6321817810242,-.00663494467273,.03430082397953,-.00466043876332,2555164.4],[2.890871144776878e-9,8983055095805407e-21,-3.068298e-8,7.47137025468032,-353937994e-14,-.02145144861037,-1234426596e-14,.00010322952773,-323890364e-14,826088.5]],n=[75,60,45,30,15,0],e=[[-.0015702102444,111320.7020616939,0x60e374c3105a3,-0x24bb4115e2e164,0x5cc55543bb0ae8,-0x7ce070193f3784,0x5e7ca61ddf8150,-0x261a578d8b24d0,0x665d60f3742ca,82.5],[.0008277824516172526,111320.7020463578,647795574.6671607,-4082003173.641316,10774905663.51142,-15171875531.51559,12053065338.62167,-5124939663.577472,913311935.9512032,67.5],[.00337398766765,111320.7020202162,4481351.045890365,-23393751.19931662,79682215.47186455,-115964993.2797253,97236711.15602145,-43661946.33752821,8477230.501135234,52.5],[.00220636496208,111320.7020209128,51751.86112841131,3796837.749470245,992013.7397791013,-1221952.21711287,1340652.697009075,-620943.6990984312,144416.9293806241,37.5],[-.0003441963504368392,111320.7020576856,278.2353980772752,2485758.690035394,6070.750963243378,54821.18345352118,9540.606633304236,-2710.55326746645,1405.483844121726,22.5],[-.0003218135878613132,111320.7020701615,.00369383431289,823725.6402795718,.46104986909093,2351.343141331292,1.58060784298199,8.77738589078284,.37238884252424,7.45]],a=[75,60,45,30,15,0],i=[[-.0015702102444,111320.7020616939,0x60e374c3105a3,-0x24bb4115e2e164,0x5cc55543bb0ae8,-0x7ce070193f3784,0x5e7ca61ddf8150,-0x261a578d8b24d0,0x665d60f3742ca,82.5],[.0008277824516172526,111320.7020463578,647795574.6671607,-4082003173.641316,10774905663.51142,-15171875531.51559,12053065338.62167,-5124939663.577472,913311935.9512032,67.5],[.00337398766765,111320.7020202162,4481351.045890365,-23393751.19931662,79682215.47186455,-115964993.2797253,97236711.15602145,-43661946.33752821,8477230.501135234,52.5],[.00220636496208,111320.7020209128,51751.86112841131,3796837.749470245,992013.7397791013,-1221952.21711287,1340652.697009075,-620943.6990984312,144416.9293806241,37.5],[-.0003441963504368392,111320.7020576856,278.2353980772752,2485758.690035394,6070.750963243378,54821.18345352118,9540.606633304236,-2710.55326746645,1405.483844121726,22.5],[-.0003218135878613132,111320.7020701615,.00369383431289,823725.6402795718,.46104986909093,2351.343141331292,1.58060784298199,8.77738589078284,.37238884252424,7.45]],s=[12890594.86,8362377.87,5591021,3481989.83,1678043.12,0],c=[[1.410526172116255e-8,898305509648872e-20,-1.9939833816331,200.9824383106796,-187.2403703815547,91.6087516669843,-23.38765649603339,2.57121317296198,-.03801003308653,17337981.2],[-7.435856389565537e-9,8983055097726239e-21,-.78625201886289,96.32687599759846,-1.85204757529826,-59.36935905485877,47.40033549296737,-16.50741931063887,2.28786674699375,10260144.86],[-3.030883460898826e-8,898305509983578e-20,.30071316287616,59.74293618442277,7.357984074871,-25.38371002664745,13.45380521110908,-3.29883767235584,.32710905363475,6856817.37],[-1.981981304930552e-8,8983055099779535e-21,.03278182852591,40.31678527705744,.65659298677277,-4.44255534477492,.85341911805263,.12923347998204,-.04625736007561,4482777.06],[3.09191371068437e-9,8983055096812155e-21,6995724062e-14,23.10934304144901,-.00023663490511,-.6321817810242,-.00663494467273,.03430082397953,-.00466043876332,2555164.4],[2.890871144776878e-9,8983055095805407e-21,-3.068298e-8,7.47137025468032,-353937994e-14,-.02145144861037,-1234426596e-14,.00010322952773,-323890364e-14,826088.5]],j=function(r,o){var t=o[0]+o[1]*Math.abs(r[0]),n=Math.abs(r[1])/o[9],e=o[2]+o[3]*n+o[4]*n*n+o[5]*n*n*n+o[6]*n*n*n*n+o[7]*n*n*n*n*n+o[8]*n*n*n*n*n*n;return[t*=r[0]<0?-1:1,e*=r[1]<0?-1:1]},_=function(r,o){var t=2*r-100+3*o+.2*o*o+.1*r*o+.2*Math.sqrt(Math.abs(r));return t+=2*(20*Math.sin(6*r*E)+20*Math.sin(2*r*E))/3,t+=2*(20*Math.sin(o*E)+40*Math.sin(o/3*E))/3,t+=2*(160*Math.sin(o/12*E)+320*Math.sin(o*E/30))/3},u=function(r,o){var t=300+r+2*o+.1*r*r+.1*r*o+.1*Math.sqrt(Math.abs(r));return t+=2*(20*Math.sin(6*r*E)+20*Math.sin(2*r*E))/3,t+=2*(20*Math.sin(r*E)+40*Math.sin(r/3*E))/3,t+=2*(150*Math.sin(r/12*E)+300*Math.sin(r/30*E))/3},p=function(r){return r[0]<72.004||r[0]>137.8347||r[1]<.8293||r[1]>55.8271||!1},f=52.35987755982988,E=3.141592653589793,d=6378245,P=.006693421622965943,S=function(r){var o=r[0]-.0065,t=r[1]-.006,n=Math.sqrt(o*o+t*t)-2e-5*Math.sin(t*f),e=Math.atan2(t,o)-3e-6*Math.cos(o*f);return[n*Math.cos(e),n*Math.sin(e)]},G=function(r){var o=Math.sqrt(r[0]*r[0]+r[1]*r[1])+2e-5*Math.sin(r[1]*f),t=Math.atan2(r[1],r[0])+3e-6*Math.cos(r[0]*f);return[o*Math.cos(t)+.0065,o*Math.sin(t)+.006]},T=function(r){var o=null,t=r[1]>74?74:r[1];t=t<-74?-74:t;for(var n=0;n<a.length;n++)if(r[1]>=a[n]){o=i[n];break}if(null==o)for(n=a.length-1;n>=0;n--)if(r[1]<=-a[n]){o=i[n];break}return j(r,o)},h=function(r){if(p(r))return r;var o=_(r[0]-105,r[1]-35),t=u(r[0]-105,r[1]-35),n=r[1]/180*E,e=Math.sin(n);e=1-P*e*e;var a=Math.sqrt(e);o=180*o/(d*(1-P)/(e*a)*E),t=180*t/(d/a*Math.cos(n)*E);var i=r[1]+o;return[r[0]+t,i]};this.wgs84ToGcj02Jw=h;var M=function(r){if(p(r))return r;var o=_(r[0]-105,r[1]-35),t=u(r[0]-105,r[1]-35),n=r[1]/180*E,e=Math.sin(n);e=1-P*e*e;var a=Math.sqrt(e);o=180*o/(d*(1-P)/(e*a)*E),t=180*t/(d/a*Math.cos(n)*E);var i=r[1]+o,s=r[0]+t;return[2*r[0]-s,2*r[1]-i]};this.gcj02JwToWgs84=M;var g=function(r){var o=h(r);return o=_proj.transform(o,"EPSG:4326","EPSG:3857")};this.wgs84ToGcj02Mc=g;this.gcj02McToWgs84=function(r){var o=_proj.transform(r,"EPSG:3857","EPSG:4326");return o=M(o)};var m=function(r){for(var o=r[0],t=r[1],a=[],i=0;i<n.length;i++)if(t>=n[i]){a=e[i];break}var s=a[0]+a[1]*Math.abs(o),c=Number(Math.abs(t)/a[9]),j=a[2]+a[3]*c+a[4]*c*c+a[5]*c*c*c+a[6]*c*c*c*c+a[7]*c*c*c*c*c+a[8]*c*c*c*c*c*c;return[s*=o<0?-1:1,j*=t<0?-1:1]};this.wgs84ToSougouMc=m;var v=function(r){for(var n=r[0],e=r[1],a=[],i=0;i<o.length;i++)if(e>o[i]){a=t[i];break}var s=a[0]+a[1]*Math.abs(n),c=Number(Math.abs(e)/a[9]),j=a[2]+a[3]*c+a[4]*c*c+a[5]*c*c*c+a[6]*c*c*c*c+a[7]*c*c*c*c*c+a[8]*c*c*c*c*c*c;return[s*=n<0?-1:1,j*=e<0?-1:1]};this.sougouMcToWgs84=v;this.wgs84ToSougouJw=function(r){var o=m(r);return o=_proj.transform(o,"EPSG:3857","EPSG:4326")};this.sougouJwToWgs84=function(r){var o=_proj.transform(r,"EPSG:4326","EPSG:3857");return o=v(o)};var l=function(r){var o=h(r);return o=G(o),o=T(o)};this.wgs84ToBaiduMc=l;var C=function(r){var o=function(r){for(var o=null,t=0;t<s.length;t++)if(r[1]>=s[t]){o=c[t];break}return j(r,o)}(r);return o=S(o),o=M(o)};this.baiduMcToWgs84=C;this.wgs84ToBaiduJw=function(r){var o=h(r);return o=G(o)};this.baiduJwToWgs84=function(r){var o=S(r);return o=M(o)};this.gcj02McToSougouMc=function(r){var o=_proj.transform(r,"EPSG:3857","EPSG:4326");return o=M(o),o=m(o)};this.sougouMcToGcj02Mc=function(r){var o=v(r);return o=g(o)};this.gcj02McToBaiduMc=function(r){var o=_proj.transform(r,"EPSG:3857","EPSG:4326");return o=G(o),o=T(o)};this.baiduMcToGcj02Mc=function(r){var o=C(r);return o=g(o)};this.sougouMcToBaiduMc=function(r){var o=v(r);return o=l(o)};this.baiduMcToSougouMc=function(r){var o=C(r);return o=m(o)};var I=function(o,t,n){return"string"==typeof t&&(t=r._projNameMap[t]||t),"string"==typeof n&&(n=r._projNameMap[n]||n),"EPSG:4326"==t||"EPSG:4326"==n?result=_proj.transform(o,t,n):(result=_proj.transform(o,t,"EPSG:4326"),result=_proj.transform(result,"EPSG:4326",n)),result};this.transform=function(r,o,t){if(r instanceof Array&&r[0]instanceof Array){for(var n=new Array,e=0;e<r.length;e++){var a=r[e],i=I(a,o,t);n.push(i)}return n}return I(r,o,t)},this.transformExtent=function(r,o,t){var n=[r[0],r[1]],e=[r[2],r[3]],a=I(n,o,t),i=I(e,o,t);return[a[0],a[1],i[0],i[1]]},this.transDistance=function(r,o,t){var n=[r,0];return _proj.transform(n,o,t)[0]},this.transformCoordinate=function(r,o,t){if(r instanceof Array){for(var n=new Array,e=0;e<r.length;e++){var a=_proj.transform(r[e],o,t);n.push(a)}return n}return _proj.transform(r,o,t)},this.coordsConcat=function(r,o){o=o||",";var t=[];return r.forEach(function(r){t.push(r[0]),t.push(r[1])}),t.join(o)};var U=this;return this._registInnerProjs=function(){_proj.addProjection(new _proj.Projection({code:"GCJ02:4326"})),_proj.addProjection(new _proj.Projection({code:"GCJ02:3857"})),_proj.addCoordinateTransforms("EPSG:4326","GCJ02:4326",U.wgs84ToGcj02Jw,U.gcj02JwToWgs84),_proj.addCoordinateTransforms("EPSG:4326","GCJ02:3857",U.wgs84ToGcj02Mc,U.gcj02McToWgs84),_proj.addProjection(new _proj.Projection({code:"SOUGOU:3857"})),_proj.addProjection(new _proj.Projection({code:"SOUGOU:4326"})),_proj.addCoordinateTransforms("EPSG:4326","SOUGOU:3857",U.wgs84ToSougouMc,U.sougouMcToWgs84),_proj.addCoordinateTransforms("EPSG:4326","SOUGOU:4326",U.wgs84ToSougouJw,U.sougouJwToWgs84),_proj.addProjection(new _proj.Projection({code:"BAIDU:3857"})),_proj.addProjection(new _proj.Projection({code:"BAIDU:4326"})),_proj.addCoordinateTransforms("EPSG:4326","BAIDU:3857",U.wgs84ToBaiduMc,U.baiduMcToWgs84),_proj.addCoordinateTransforms("EPSG:4326","BAIDU:4326",U.wgs84ToBaiduJw,U.baiduJwToWgs84),_proj.addCoordinateTransforms("GCJ02:3857","SOUGOU:3857",U.gcj02McToSougouMc,U.sougouMcToGcj02Mc),_proj.addCoordinateTransforms("GCJ02:3857","BAIDU:3857",U.gcj02McToBaiduMc,U.baiduMcToGcj02Mc),_proj.addCoordinateTransforms("SOUGOU:3857","BAIDU:3857",U.sougouMcToBaiduMc,U.baiduMcToSougouMc)},this.addProj=function(r,o,t){_proj.addProjection(new _proj.Projection({code:r})),_proj.addCoordinateTransforms("EPSG:4326",r,o,t)},this.addProjName=function(r,o){this._projNameMap[r]=o},this._registInnerProjs(),this}_proj.inherits=function(r,o){r.prototype=Object.create(o.prototype),r.prototype.constructor=r},_proj.Units={DEGREES:"degrees",FEET:"ft",METERS:"m",PIXELS:"pixels",TILE_PIXELS:"tile-pixels",USFEET:"us-ft"},_proj.METERS_PER_UNIT={},_proj.METERS_PER_UNIT[_proj.Units.DEGREES]=2*Math.PI*6370997/360,_proj.METERS_PER_UNIT[_proj.Units.FEET]=.3048,_proj.METERS_PER_UNIT[_proj.Units.METERS]=1,_proj.METERS_PER_UNIT[_proj.Units.USFEET]=1200/3937,_proj.Projection=function(r){this.code_=r.code,this.extent_=void 0!==r.extent?r.extent:null;_proj.projections_,r.code},_proj.Projection.prototype.getCode=function(){return this.code_},_proj.Projection.prototype.getExtent=function(){return this.extent_},_proj.Projection.prototype.setExtent=function(r){this.extent_=r,this.canWrapX_=!(!this.global_||!r)},_proj.projections_={},_proj.transforms_={},_proj.addEquivalentProjections=function(r){_proj.addProjections(r),r.forEach(function(o){r.forEach(function(r){o!==r&&_proj.addTransform(o,r,_proj.cloneTransform)})})},_proj.addEquivalentTransforms=function(r,o,t,n){r.forEach(function(r){o.forEach(function(o){_proj.addTransform(r,o,t),_proj.addTransform(o,r,n)})})},_proj.addProjection=function(r){_proj.projections_[r.getCode()]=r,_proj.addTransform(r,r,_proj.cloneTransform)},_proj.addProjections=function(r){var o=[];r.forEach(function(r){o.push(_proj.addProjection(r))})},_proj.clearAllProjections=function(){_proj.projections_={},_proj.transforms_={}},_proj.createProjection=function(r,o){return r?"string"==typeof r?_proj.get(r):r:_proj.get(o)},_proj.addTransform=function(r,o,t){var n=r.getCode(),e=o.getCode(),a=_proj.transforms_;n in a||(a[n]={}),a[n][e]=t},_proj.addCoordinateTransforms=function(r,o,t,n){var e=_proj.get(r),a=_proj.get(o);_proj.addTransform(e,a,_proj.createTransformFromCoordinateTransform(t)),_proj.addTransform(a,e,_proj.createTransformFromCoordinateTransform(n))},_proj.createTransformFromCoordinateTransform=function(r){return function(o,t,n){var e,a,i,s=o.length,c=void 0!==n?n:2,j=void 0!==t?t:new Array(s);for(a=0;a<s;a+=c)for(e=r([o[a],o[a+1]]),j[a]=e[0],j[a+1]=e[1],i=c-1;i>=2;--i)j[a+i]=o[a+i];return j}},_proj.removeTransform=function(r,o){var t=r.getCode(),n=o.getCode(),e=_proj.transforms_,a=e[t][n];return delete e[t][n],ol.obj.isEmpty(e[t])&&delete e[t],a},_proj.get=function(r){var o;if(r instanceof _proj.Projection)o=r;else if("string"==typeof r){var t=r;o=_proj.projections_[t]}return o||null},_proj.getTransform=function(r,o){var t=_proj.get(r),n=_proj.get(o);return _proj.getTransformFromProjections(t,n)},_proj.getTransformFromProjections=function(r,o){var t,n=_proj.transforms_,e=r.getCode(),a=o.getCode();return e in n&&a in n[e]&&(t=n[e][a]),void 0===t&&(t=_proj.identityTransform),t},_proj.transform=function(r,o,t){return _proj.getTransform(o,t)(r,void 0,r.length)},_proj.transformExtent=function(r,o,t){var n=_proj.getTransform(o,t);return ol.extent.applyTransform(r,n)},_proj.transformWithProjections=function(r,o,t){return _proj.getTransformFromProjections(o,t)(r)},_proj.EPSG4326=function(r,o){_proj.Projection.call(this,{code:r,units:_proj.Units.DEGREES,extent:_proj.EPSG4326.EXTENT,axisOrientation:o,global:!0,metersPerUnit:_proj.EPSG4326.METERS_PER_UNIT,worldExtent:_proj.EPSG4326.EXTENT})},_proj.inherits(_proj.EPSG4326,_proj.Projection),_proj.EPSG4326.prototype.getPointResolution=function(r,o){return r},_proj.EPSG4326.EXTENT=[-180,-90,180,90],_proj.EPSG4326.METERS_PER_UNIT=6378137*Math.PI/180,_proj.EPSG4326.PROJECTIONS=[new _proj.EPSG4326("CRS:84"),new _proj.EPSG4326("EPSG:4326","neu")],_proj.EPSG3857=function(r){_proj.Projection.call(this,{code:r,units:_proj.Units.METERS,extent:_proj.EPSG3857.EXTENT,global:!0,worldExtent:_proj.EPSG3857.WORLD_EXTENT})},_proj.inherits(_proj.EPSG3857,_proj.Projection),_proj.EPSG3857.RADIUS=6378137,_proj.EPSG3857.HALF_SIZE=Math.PI*_proj.EPSG3857.RADIUS,_proj.EPSG3857.EXTENT=[-_proj.EPSG3857.HALF_SIZE,-_proj.EPSG3857.HALF_SIZE,_proj.EPSG3857.HALF_SIZE,_proj.EPSG3857.HALF_SIZE],_proj.EPSG3857.WORLD_EXTENT=[-180,-85,180,85],_proj.EPSG3857.CODES=["EPSG:3857","EPSG:102100","EPSG:102113","EPSG:900913"],_proj.EPSG3857.PROJECTIONS=_proj.EPSG3857.CODES.map(function(r){return new _proj.EPSG3857(r)}),_proj.EPSG3857.fromEPSG4326=function(r,o,t){var n=r.length,e=t>1?t:2,a=o;void 0===a&&(a=e>2?r.slice():new Array(n));for(var i=0;i<n;i+=e)a[i]=_proj.EPSG3857.RADIUS*Math.PI*r[i]/180,a[i+1]=_proj.EPSG3857.RADIUS*Math.log(Math.tan(Math.PI*(r[i+1]+90)/360));return a},_proj.EPSG3857.toEPSG4326=function(r,o,t){var n=r.length,e=t>1?t:2,a=o;void 0===a&&(a=e>2?r.slice():new Array(n));for(var i=0;i<n;i+=e)a[i]=180*r[i]/(_proj.EPSG3857.RADIUS*Math.PI),a[i+1]=360*Math.atan(Math.exp(r[i+1]/_proj.EPSG3857.RADIUS))/Math.PI-90;return a},_proj.addEquivalentProjections(_proj.EPSG3857.PROJECTIONS),_proj.addEquivalentProjections(_proj.EPSG4326.PROJECTIONS),_proj.addEquivalentTransforms(_proj.EPSG4326.PROJECTIONS,_proj.EPSG3857.PROJECTIONS,_proj.EPSG3857.fromEPSG4326,_proj.EPSG3857.toEPSG4326);var fc=fc||{};fc.proj=new _UtilProj;